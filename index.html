<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Tint JS : Logicless templates" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Tint JS</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/pfraze/tint-js">View on GitHub</a>

          <h1 id="project_title">Tint JS</h1>
          <h2 id="project_tagline">Logicless templates</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/pfraze/tint-js/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/pfraze/tint-js/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Tint uses templates which specify an interface of variables, namespaces, and functions. That interface is used to compile a prototype for objects which build the output.</p>

<p>The template:</p>

<div class="highlight">
<pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"nav"</span><span class="nt">&gt;</span>
        $nav{
        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"nav-list"</span><span class="nt">&gt;</span>
            $item() {
                $header(label){<span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-header"</span><span class="nt">&gt;</span>$label;<span class="nt">&lt;/li&gt;</span>}header;
                $link(label, uri){<span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"$uri;"</span><span class="nt">&gt;</span>$label;<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>}link;
            }item;
        <span class="nt">&lt;/ul&gt;</span>
        }nav;
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"content"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h3&gt;</span>$title;<span class="nt">&lt;/h3&gt;</span>
        <span class="nt">&lt;table&gt;</span>
            $message(uri, author, title, date) {
                <span class="nt">&lt;tr&gt;</span>
                    <span class="nt">&lt;td&gt;</span>$author;<span class="nt">&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"$uri;"</span><span class="nt">&gt;</span>$title;<span class="nt">&lt;/a&gt;&lt;/td&gt;</span>
                    <span class="nt">&lt;td&gt;</span>$date;<span class="nt">&lt;/td&gt;</span>
                <span class="nt">&lt;/tr&gt;</span>
            }message;
        <span class="nt">&lt;/table&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre>
</div>


<p>The javascript:</p>

<div class="highlight">
<pre><span class="c1">// Compile the prototype</span>
<span class="c1">// `templateString` contains the above template</span>
<span class="kd">var</span> <span class="nx">Tmpl</span> <span class="o">=</span> <span class="nx">Tint</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">templateString</span><span class="p">);</span>

<span class="c1">// ...</span>

<span class="c1">// Instantiate the builder object</span>
<span class="kd">var</span> <span class="nx">tmpl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tmpl</span><span class="p">();</span>

<span class="c1">// nav</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">header</span><span class="p">(</span><span class="s1">'Inbox'</span><span class="p">);</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="s1">'Inbox'</span><span class="p">,</span> <span class="s1">'/'</span><span class="p">);</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="s1">'Settings'</span><span class="p">,</span> <span class="s1">'/settings'</span><span class="p">);</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">header</span><span class="p">(</span><span class="s1">'Services'</span><span class="p">);</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="s1">'MyService'</span><span class="p">,</span> <span class="s1">'/myservice'</span><span class="p">);</span>

<span class="c1">// content</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">"Your Inbox"</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">tmpl</span><span class="p">.</span><span class="nx">message</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">uri</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">author</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">summary</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">date</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Generate output</span>
<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">tmpl</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</pre>
</div>


<p>You can also extend the prototype, if you like:</p>

<div class="highlight">
<pre><span class="c1">// Add a custom constructor</span>
<span class="kd">var</span> <span class="nx">Tmpl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tint</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">templateString</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">services</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">header</span><span class="p">(</span><span class="s1">'Inbox'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="s1">'Inbox'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="s1">'Settings'</span><span class="p">,</span> <span class="s1">'/settings'</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">header</span><span class="p">(</span><span class="s1">'Services'</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">services</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">nav</span><span class="p">.</span><span class="nx">item</span><span class="p">().</span><span class="nx">link</span><span class="p">(</span><span class="nx">services</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">,</span> <span class="nx">services</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">uri</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="nx">Tmpl</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addMessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">(</span><span class="nx">message</span><span class="p">.</span><span class="nx">uri</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">author</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">summary</span><span class="p">,</span> <span class="nx">message</span><span class="p">.</span><span class="nx">date</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// ...</span>

<span class="c1">// Instantiate the builder object</span>
<span class="kd">var</span> <span class="nx">tmpl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Tmpl</span><span class="p">(</span><span class="nx">my_services</span><span class="p">);</span>
<span class="nx">tmpl</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">"Your Inbox"</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tmpl</span><span class="p">.</span><span class="nx">addMessage</span><span class="p">(</span><span class="nx">messages</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">tmpl</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
</pre>
</div>


<h2>How it works</h2>

<p>Tint's templates use 3 different constructs:</p>

<ul>
<li>Blocks</li>
<li>Variables</li>
<li>Functions</li>
</ul><p><strong>Blocks</strong> are just namespaces for parts of the template. They don't change the output.</p>

<p><code>$block_name{ whatever }block_name;</code></p>

<p><strong>Variables</strong> are direct substitutions. They're replaced with whatever value they're assigned.</p>

<p><code>$variable_name;</code></p>

<p><strong>Functions</strong> are blocks which can be added multiple times, and which take parameter lists.</p>

<p><code>$func_name(param1, param2) { whatever $param1; whatever $param2; }func_name;</code></p>

<p>That's it; those building blocks are enough to generate your output. Any logic you need (like conditionals, escaping, or lists with commas on all but the last item) is added to the prototype, by you, using a language that's designed for it (Javascript).</p>

<h2>A few additional notes</h2>

<p>Function calls generate blocks which are stored in an array with a prefix added to the name. That is, if my template has a <code>$profile(username)</code> function, then I can access the blocks it creates at <code>_profile[]</code>. Function parameters are stored as variables with the same name as the parameter itself: <code>_profile[0].username</code>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Tint JS maintained by <a href="https://github.com/pfraze">pfraze</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
